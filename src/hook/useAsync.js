import { useReducer, useEffect } from 'react';import {useDispatch, useSelector} from "react-redux";import {loading, success} from "../modules/movies";function reducer(state, action) {    switch (action.type) {        case 'LOADING':            return {                isLoading: true,                data: null,                error: false            };        case 'SUCCESS':            return {                isLoading: false,                data: action.data,                error: false            };        case 'ERROR':            return {                isLoading: false,                data: null,                error: action.error            };        default:            throw new Error(`Unhandled action type: ${action.type}`);    }}function useAsync(callback, deps = []) {    const dispatch = useDispatch();    const state = useSelector(state => state.movies);    const fetchData = async () => {        dispatch(loading());        try {            const data = await callback();            dispatch(success(data));        } catch (e) {            dispatch({ type: 'ERROR', error: e });        }    };    useEffect(() => {        fetchData();    }, deps);    return [state, fetchData];}export default useAsync;